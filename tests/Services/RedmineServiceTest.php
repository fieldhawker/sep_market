<?php

use App\Services\RedmineService;

use Illuminate\Foundation\Testing\WithoutMiddleware;
use Illuminate\Foundation\Testing\DatabaseMigrations;
use Illuminate\Foundation\Testing\DatabaseTransactions;

class RedmineServiceTest extends TestCase
{

    private $service;


    /**
     *
     */
    function setUp()
    {

        parent::setUp();

        $this->service = New RedmineService();

    }

    /**
     *
     */
    public function testSetTicketData()
    {
        $this->service->setTicketData();

        $response = $this->service->getTicketInfo();

        if (count($response) > 0) {

            $this->assertArrayHasKey('id', $response[0]);
            $this->assertArrayHasKey('project', $response[0]);
            $this->assertArrayHasKey('author', $response[0]);
            $this->assertArrayHasKey('assigned_to', $response[0]);
            $this->assertArrayHasKey('subject', $response[0]);
            $this->assertArrayHasKey('description', $response[0]);
            $this->assertArrayHasKey('start_date', $response[0]);
            $this->assertArrayHasKey('due_date', $response[0]);
            $this->assertArrayHasKey('done_ratio', $response[0]);
            $this->assertArrayHasKey('created_on', $response[0]);
            $this->assertArrayHasKey('updated_on', $response[0]);
            
        }

    }

    /**
     *
     */
    public function testRequestTicket()
    {
        $response = $this->service->requestTicket();

        $this->assertArrayHasKey('id', $response[0]);
        $this->assertArrayHasKey('name', $response[0]['project']['@attributes']);
        $this->assertArrayHasKey('name', $response[0]['author']['@attributes']);
        $this->assertArrayHasKey('name', $response[0]['assigned_to']['@attributes']);
        $this->assertArrayHasKey('subject', $response[0]);
        $this->assertArrayHasKey('description', $response[0]);
        $this->assertArrayHasKey('start_date', $response[0]);
        $this->assertArrayHasKey('due_date', $response[0]);
        $this->assertArrayHasKey('done_ratio', $response[0]);
        $this->assertArrayHasKey('created_on', $response[0]);
        $this->assertArrayHasKey('updated_on', $response[0]);
    }

    /**
     *
     */
    public function testRequestTicketPerPage()
    {
        $response = $this->service->requestTicketPerPage($offset = '0', $limit = '100');

        $this->assertArrayHasKey('@attributes', $response);
        $this->assertArrayHasKey('total_count', $response['@attributes']);
        $this->assertArrayHasKey('issue', $response);
        $this->assertArrayHasKey('id', $response['issue'][0]);
        $this->assertArrayHasKey('name', $response['issue'][0]['project']['@attributes']);
        $this->assertArrayHasKey('name', $response['issue'][0]['author']['@attributes']);
        $this->assertArrayHasKey('name', $response['issue'][0]['assigned_to']['@attributes']);
        $this->assertArrayHasKey('subject', $response['issue'][0]);
        $this->assertArrayHasKey('description', $response['issue'][0]);
        $this->assertArrayHasKey('start_date', $response['issue'][0]);
        $this->assertArrayHasKey('due_date', $response['issue'][0]);
        $this->assertArrayHasKey('done_ratio', $response['issue'][0]);
        $this->assertArrayHasKey('created_on', $response['issue'][0]);
        $this->assertArrayHasKey('updated_on', $response['issue'][0]);

    }

    /**
     *
     */
    public function testCreateTicketInfo()
    {
        $comparison = '[{"id":"50","project":{"@attributes":{"id":"12","name":"[高野_個人用]"}},"tracker":{"@attributes":{"id":"2","name":"開発"}},"status":{"@attributes":{"id":"7","name":"割当"}},"priority":{"@attributes":{"id":"2","name":"通常"}},"author":{"@attributes":{"id":"14","name":"高野 圭史"}},"assigned_to":{"@attributes":{"id":"14","name":"高野 圭史"}},"subject":"GASにBotを住まわせる","description":[],"start_date":"2016-11-30","due_date":[],"done_ratio":"0","is_private":"false","estimated_hours":[],"created_on":"2016-11-30T05:18:23Z","updated_on":"2016-11-30T05:18:23Z","closed_on":[]},{"id":"49","project":{"@attributes":{"id":"12","name":"[高野_個人用]"}},"tracker":{"@attributes":{"id":"2","name":"開発"}},"status":{"@attributes":{"id":"7","name":"割当"}},"priority":{"@attributes":{"id":"2","name":"通常"}},"author":{"@attributes":{"id":"14","name":"高野 圭史"}},"assigned_to":{"@attributes":{"id":"14","name":"高野 圭史"}},"subject":"RM関連のServiceクラスの自動テスト","description":"LD関連で実施したことの水平展開\n\n","start_date":"2016-11-30","due_date":[],"done_ratio":"0","is_private":"false","estimated_hours":[],"created_on":"2016-11-30T01:14:27Z","updated_on":"2016-11-30T01:14:27Z","closed_on":[]},{"id":"48","project":{"@attributes":{"id":"12","name":"[高野_個人用]"}},"tracker":{"@attributes":{"id":"2","name":"開発"}},"status":{"@attributes":{"id":"7","name":"割当"}},"priority":{"@attributes":{"id":"2","name":"通常"}},"author":{"@attributes":{"id":"14","name":"高野 圭史"}},"assigned_to":{"@attributes":{"id":"14","name":"高野 圭史"}},"subject":"LD関連のServiceクラスの自動テスト","description":"\n注意：自分たちで変更できない型をモックしてはならない\n\nアダプタ層の切り離しがまだなのでそこも合わせて行う","start_date":"2016-11-28","due_date":[],"done_ratio":"90","is_private":"false","estimated_hours":[],"created_on":"2016-11-28T01:43:22Z","updated_on":"2016-11-29T01:01:17Z","closed_on":[]},{"id":"47","project":{"@attributes":{"id":"3","name":"[一星企画]WOWOW"}},"tracker":{"@attributes":{"id":"2","name":"開発"}},"status":{"@attributes":{"id":"3","name":"対応済"}},"priority":{"@attributes":{"id":"2","name":"通常"}},"author":{"@attributes":{"id":"13","name":"武田 将平"}},"assigned_to":{"@attributes":{"id":"10","name":"高橋 知明"}},"fixed_version":{"@attributes":{"id":"2","name":"音楽"}},"subject":"音楽 YOSHIKI","description":"ご確認ありがとうございます。\nそれでは、新規ティザー「YOSHIKI」のコーディングをお願いします。\n\n------------------------------------------------------------\n■番組タイトル\n生中継！YOSHIKI CLASSICAL SPECIAL feat. Tokyo Philharmonic Orchestra\nat Carnegie Hall in New York City\n\n■画像とデザイン\n後送します。\n\n■キャッチ\n--------\nクラシックの聖地にYOSHIKIが降り立つ。ニューヨーク・カーネギーホールで行なわれる東京フィルハーモニー交響楽団との共演をWOWOWで生中継。\n--------\n\n■リリース\n--------\n2017年1月12、13日の2日にわたり、米国ニューヨークのカーネギーホールで行なわれるYOSHIKIのコンサートから2日目の模様を生中継する。さらに同日夜、コンサートの熱気冷めやらぬうちにディレイ放送で公演の模様をお届けする。\n\n125年の歴史を持つこの会場は、チャイコフスキーやラフマニノフなどのクラシックの音楽家から、マイルス・デイヴィス、フランク・シナトラ、ビートルズ、ザ・ローリング・ストーンズなど歴史にその名を刻むミュージシャンが演奏してきた。音楽史そのものが息づく“聖地”で、YOSHIKIが東京フィルハーモニー交響楽団の47名と共演し、オリジナル楽曲から伝統的なクラシック楽曲までを披露する。\n\nX JAPANとしてマジソン・スクエア・ガーデン公演を成功させ、2017年3月4日には英国ウェンブリーアリーナで同バンドの単独公演を予定するなど、クラシックの聖地とロックの聖地の両会場で単独公演を行なう唯一無二の世界的アーティストとなるYOSHIKIの歴史的ステージは\n必見！\n--------\n\n■収録日等\n--------\n収録日：2017年1月13日\n収録場所：アメリカ・ニューヨーク州ニューヨーク カーネギーホール\n出演：YOSHIKI、東京フィルハーモニー交響楽団\n--------\n\n■OA告知\n-------------\n[WOWOWプライム][生] 2017/1/14（土）午前9:30\n[WOWOWライブ] 2017/1/14（土）よる9:30\n-------------\n\n■加入ボタン\n-------\nご加入はこちら\n-------\n\n■バーチャルコード\n----------\n8009702997004\n----------\n\n■公開URL\nhttp://www.wowow.co.jp/music/yoshiki/\n\n■SNS画像文言\nアーティスト名 \n---------\nYOSHIKI\n---------\n\n■スケジュール\n11/25（金) テストアップ\n12/3(土)公開予定\n\n------------------------------------------------------------\n\n時間がなく申し訳ありませんが、よろしくお願い致します。\n画像や設定情報は、届き次第お送りするように致します。\n\nご確認の程、宜しくお願い申し上げます。\n\n\nYOSHIKIの画像パーツはこちらになります。\nhttps://www.chatwork.com/#!rid53386047-1603288181 メッセージリンク\n\n参考までに、_sample.jpg も入れてあります。\n※大まかなイメージです。\n※タイトル上下のスペースなど参考にしてください。\n\n文字サイズ等の設定は既存のママでお願いします。\n---------------------------------\n背景　上　　　：#ffffff\n背景　下　　　：#000000\nOA・キャッチ ：#c70003\n加入背景　　　：#c70003\nヘッダー　　　：白\n---------------------------------\n\nご対応、よろしくお願い致します。","start_date":"2016-11-25","due_date":"2016-11-25","done_ratio":"100","is_private":"false","estimated_hours":"2.0","created_on":"2016-11-25T07:19:24Z","updated_on":"2016-11-30T05:07:57Z","closed_on":[]},{"id":"46","project":{"@attributes":{"id":"3","name":"[一星企画]WOWOW"}},"tracker":{"@attributes":{"id":"2","name":"開発"}},"status":{"@attributes":{"id":"8","name":"未請求"}},"priority":{"@attributes":{"id":"2","name":"通常"}},"author":{"@attributes":{"id":"13","name":"武田 将平"}},"assigned_to":{"@attributes":{"id":"10","name":"高橋 知明"}},"fixed_version":{"@attributes":{"id":"1","name":"コールドケース"}},"subject":"コールドケース　脳トレ7回目","description":"お疲れ様です。\n「連続ドラマW　コールドケース ～真実の扉～」の週末更新について、確認です。\n脳トレ以外の部分の更新は、SEPさんの方で対応可能でしょうか？\n対応可能でしたら、更新情報をお送りします。\n\n脳トレの情報、お送りします。\nhttps://www.chatwork.com/#!rid53386047-1601131867 メッセージリンク\n\nご確認宜しくお願いします。","start_date":"2016-11-24","due_date":"2016-11-24","done_ratio":"100","is_private":"false","estimated_hours":"2.0","created_on":"2016-11-24T07:47:10Z","updated_on":"2016-11-25T09:28:36Z","closed_on":[]},{"id":"45","project":{"@attributes":{"id":"3","name":"[一星企画]WOWOW"}},"tracker":{"@attributes":{"id":"2","name":"開発"}},"status":{"@attributes":{"id":"8","name":"未請求"}},"priority":{"@attributes":{"id":"2","name":"通常"}},"author":{"@attributes":{"id":"13","name":"武田 将平"}},"assigned_to":{"@attributes":{"id":"10","name":"高橋 知明"}},"fixed_version":{"@attributes":{"id":"7","name":"楽園"}},"subject":"楽園 TOP関連番組欄追加","description":"つまり手が空いているということですね。\n\n楽園で、イントロの画像追加と同じタイミングで公開したいとかいうブツのデザインがさっき届いたんですが\nこちらのご対応お願いできますか？TOPに追加するので、インクルードファイルで作ったら楽そうです。\n\n◆PCラフ\n 河鰭 久美2016年11月18日 16:13\nファイルをアップロードしました。\n\n161116_rakuen_top.jpg (198.22 KB) プレビュー\n推奨セキュリティソフト\n◆SPラフ\n 河鰭 久美2016年11月18日 16:13\nファイルをアップロードしました。\n\n161118_kanren_smp.jpg (163.31 KB) プレビュー\n推奨セキュリティソフト\n◆PSD\n 河鰭 久美2016年11月18日 16:13\nファイルをアップロードしました。\n161116_rakuen_kanren_sp.zip (1.95 MB)\n推奨セキュリティソフト\n 河鰭 久美2016年11月18日 16:13\nファイルをアップロードしました。\n161116_rakuen_top_code.zip (4.17 MB)\n推奨セキュリティソフト\n\n◆担当さんより\nTOPページに「関連特集」の情報を追加をお願いします。リンクは無しです（後にリンク先が生成されたら追加対応）","start_date":"2016-11-18","due_date":"2016-11-18","done_ratio":"100","is_private":"false","estimated_hours":"3.0","created_on":"2016-11-21T08:44:51Z","updated_on":"2016-11-22T09:52:06Z","closed_on":[]},{"id":"44","project":{"@attributes":{"id":"3","name":"[一星企画]WOWOW"}},"tracker":{"@attributes":{"id":"2","name":"開発"}},"status":{"@attributes":{"id":"3","name":"対応済"}},"priority":{"@attributes":{"id":"2","name":"通常"}},"author":{"@attributes":{"id":"13","name":"武田 将平"}},"assigned_to":{"@attributes":{"id":"13","name":"武田 将平"}},"fixed_version":{"@attributes":{"id":"2","name":"音楽"}},"subject":"音楽 絢香","description":"お疲れ様です。\n音楽テンプレ続きですが、下記ご準備よろしくお願いいたします。\n\n--------------------------------☆\nお疲れ様です。\n新規ティザー「絢香」の制作担当割をお願いします。\n音楽テンプレートで制作お願いします。\n\n■番組タイトル\n絢香 10th Anniversary SUPER BEST TOUR\n\n■画像とデザイン(デザイナーさん宛)\n参考にアーティストオフィシャルをお送りいたします。\nアーティストオフィシャル http://room-ayaka.jp/\n10周年記念ページ https://ticket.yahoo.co.jp/special/ayaka10th/\n\n■キャッチ\n--------\n圧倒的な声量と情感豊かな歌声で人々の心を震わせる絢香。2016年、デビュー10周年を迎える自身最大規模のアニバーサリーツアー！\n--------\n\n■リリース\n--------\n2006年、あふれる才能と圧倒的な存在感とともにミュージックシーンに登場した絢香。天性の歌唱力とソングライティングによって、これまでに数多くの感動を生み出してきた彼女が、2016年にデビュー10周年を迎えた。デビュー日の2月1日に一夜限りで行なわれた東京・国立代々木競技場第一体育館でのライブ、7月のベストアルバム『THIS IS ME～絢香 10th anniversary BEST～』リリースを経て、9月からは同作を携えてのアリーナツアーを追加公演含め全国10会場14公演開催。そのメモリアルなライブツアーから10月23日の埼玉・さいたまスーパーアリーナでのライブの模様を放送する。\n\n18歳、高校3年の冬にアーティストデビューを飾った絢香が28歳を目前に控えて行なった“10年の集大成”。研ぎ澄まされていた感性には、熟練した表現力が加わった。彼女の、10年の歩みを目と耳で確かめていただきたい。 \n--------\n\n■収録日等\n--------\n収録日：2016年10月23日 \n収録場所：埼玉 さいたまスーパーアリーナ\n--------\n\n■OA告知\n-------------\n[WOWOWライブ] 2017/1/8（日）よる10:00\n-------------\n\n■加入ボタン\n-------\nご加入はこちら\n-------\n\n■バーチャルコード\n----------\n後送いたします。\n----------\n\n■公開URL\nhttp://www.wowow.co.jp/music/ayaka/\n\n■SNS画像文言(デザイナーさん宛)\nアーティスト名 \n---------\n絢香\n---------\n\n■スケジュール\n11/24（木) テストアップ\n12/5(月) 12:00公開\n\nお手数お掛けいたしますが、宜しくお願い致します。\n--------------------------------☆","start_date":"2016-11-21","due_date":"2016-11-24","done_ratio":"100","is_private":"false","estimated_hours":"2.0","created_on":"2016-11-21T01:52:19Z","updated_on":"2016-11-25T09:43:08Z","closed_on":[]},{"id":"43","project":{"@attributes":{"id":"3","name":"[一星企画]WOWOW"}},"tracker":{"@attributes":{"id":"2","name":"開発"}},"status":{"@attributes":{"id":"8","name":"未請求"}},"priority":{"@attributes":{"id":"2","name":"通常"}},"author":{"@attributes":{"id":"13","name":"武田 将平"}},"assigned_to":{"@attributes":{"id":"10","name":"高橋 知明"}},"fixed_version":{"@attributes":{"id":"1","name":"コールドケース"}},"subject":"コールドケース　脳トレ6回目","description":"お疲れ様です。\nお待たせしました！コールド脳トレ6回目の素材が届きましたので送付いたします。\n下記ファイルでご準備お願いします。\n 河鰭 久美2016年11月17日 14:13\nファイルをアップロードしました。\n06.zip (3.04 MB)\n推奨セキュリティソフト\n\nポイントURLは下記からお願いします。\nhttps://www.chatwork.com/#!rid56621379-1551510547 メッセージリンク\n\n■Case:06　「恋文」\nhttp://point.wowow.co.jp/campaign/?cp=761&ret=%2Fcampaign%2Fthanks.html\n\nこちら優先で作業をお願いします！","start_date":"2016-11-17","due_date":"2016-11-17","done_ratio":"100","is_private":"false","estimated_hours":"2.0","created_on":"2016-11-17T05:15:38Z","updated_on":"2016-11-20T23:47:54Z","closed_on":[]},{"id":"42","project":{"@attributes":{"id":"3","name":"[一星企画]WOWOW"}},"tracker":{"@attributes":{"id":"2","name":"開発"}},"status":{"@attributes":{"id":"8","name":"未請求"}},"priority":{"@attributes":{"id":"2","name":"通常"}},"author":{"@attributes":{"id":"13","name":"武田 将平"}},"assigned_to":{"@attributes":{"id":"10","name":"高橋 知明"}},"fixed_version":{"@attributes":{"id":"2","name":"音楽"}},"subject":"音楽 ザ・ローリング・ストーンズ","description":"11/21(月) 素材、色指定等ご連絡\n11/22(火) AM 一星へのテストアップ\n11/22(火) テストアップ\n12/1(木)12:00公開予定","start_date":"2016-11-21","due_date":"2016-11-22","done_ratio":"100","is_private":"false","estimated_hours":"2.0","created_on":"2016-11-17T03:01:29Z","updated_on":"2016-11-30T11:16:32Z","closed_on":[]},{"id":"41","project":{"@attributes":{"id":"3","name":"[一星企画]WOWOW"}},"tracker":{"@attributes":{"id":"2","name":"開発"}},"status":{"@attributes":{"id":"3","name":"対応済"}},"priority":{"@attributes":{"id":"2","name":"通常"}},"author":{"@attributes":{"id":"13","name":"武田 将平"}},"assigned_to":{"@attributes":{"id":"10","name":"高橋 知明"}},"fixed_version":{"@attributes":{"id":"2","name":"音楽"}},"subject":"音楽 GReeeeN","description":"11/21(月) 素材、色指定等ご連絡\n11/22(火) AM 一星へのテストアップ\n11/22(火) テストアップ\n12/1(木)公開","start_date":"2016-11-21","due_date":"2016-11-22","done_ratio":"100","is_private":"false","estimated_hours":"2.0","created_on":"2016-11-17T03:00:55Z","updated_on":"2016-11-30T05:07:27Z","closed_on":[]},{"id":"40","project":{"@attributes":{"id":"3","name":"[一星企画]WOWOW"}},"tracker":{"@attributes":{"id":"2","name":"開発"}},"status":{"@attributes":{"id":"8","name":"未請求"}},"priority":{"@attributes":{"id":"2","name":"通常"}},"author":{"@attributes":{"id":"13","name":"武田 将平"}},"assigned_to":{"@attributes":{"id":"10","name":"高橋 知明"}},"fixed_version":{"@attributes":{"id":"2","name":"音楽"}},"subject":"音楽 EXO","description":"■EXO\n11/18(金) 素材、色指定等ご連絡\n11/21(月) AM 一星へのテストアップ\n11/21(月) テストアップ\n11/30(水)16:00公開\n","start_date":"2016-11-17","due_date":"2016-11-21","done_ratio":"100","is_private":"false","estimated_hours":"2.0","created_on":"2016-11-17T03:00:01Z","updated_on":"2016-11-22T09:53:42Z","closed_on":[]},{"id":"39","project":{"@attributes":{"id":"3","name":"[一星企画]WOWOW"}},"tracker":{"@attributes":{"id":"2","name":"開発"}},"status":{"@attributes":{"id":"8","name":"未請求"}},"priority":{"@attributes":{"id":"2","name":"通常"}},"author":{"@attributes":{"id":"6","name":"松重 信行"}},"assigned_to":{"@attributes":{"id":"10","name":"高橋 知明"}},"fixed_version":{"@attributes":{"id":"8","name":"ナイトシフト3"}},"subject":"ナイトシフト3","description":"また、海外ドラマ「ナイトシフト3」のコーディングもお願いしたいと思っております。\n\n■ナイトシフト3 ※相関図含む\n11/16（水）ラフ出し\n11/21（月）コーディング開始\n11/25（金）テストアップ\n11/28（月）公開","start_date":"2016-11-21","due_date":"2016-11-25","done_ratio":"100","is_private":"false","estimated_hours":"16.0","created_on":"2016-11-15T00:46:16Z","updated_on":"2016-11-28T08:38:33Z","closed_on":[]},{"id":"38","project":{"@attributes":{"id":"3","name":"[一星企画]WOWOW"}},"tracker":{"@attributes":{"id":"2","name":"開発"}},"status":{"@attributes":{"id":"1","name":"新規"}},"priority":{"@attributes":{"id":"2","name":"通常"}},"author":{"@attributes":{"id":"13","name":"武田 将平"}},"assigned_to":{"@attributes":{"id":"13","name":"武田 将平"}},"fixed_version":{"@attributes":{"id":"7","name":"楽園"}},"subject":"楽園 スタンプラリー説明ページ","description":"(5)スタンプラリー説明ページ\n11/18(金)　構成案作成\n11/25(金)　PCデザイン確認\n11/28(月)　スマートフォンデザイン対応\n11/29(火)　デザインFIX→コーディング\n12/7(水)　テストアップ\n12/9(金)　公開","start_date":"2016-12-02","due_date":"2016-12-07","done_ratio":"0","is_private":"false","estimated_hours":[],"created_on":"2016-11-11T10:20:27Z","updated_on":"2016-11-15T00:44:25Z","closed_on":[]},{"id":"35","project":{"@attributes":{"id":"12","name":"[高野_個人用]"}},"tracker":{"@attributes":{"id":"2","name":"開発"}},"status":{"@attributes":{"id":"7","name":"割当"}},"priority":{"@attributes":{"id":"2","name":"通常"}},"author":{"@attributes":{"id":"14","name":"高野 圭史"}},"assigned_to":{"@attributes":{"id":"14","name":"高野 圭史"}},"subject":"AutomaticPostDailyInformation","description":[],"start_date":"2016-11-11","due_date":[],"done_ratio":"0","is_private":"false","estimated_hours":[],"created_on":"2016-11-11T02:19:36Z","updated_on":"2016-11-18T02:04:27Z","closed_on":[]},{"id":"33","project":{"@attributes":{"id":"3","name":"[一星企画]WOWOW"}},"tracker":{"@attributes":{"id":"2","name":"開発"}},"status":{"@attributes":{"id":"1","name":"新規"}},"priority":{"@attributes":{"id":"2","name":"通常"}},"author":{"@attributes":{"id":"13","name":"武田 将平"}},"assigned_to":{"@attributes":{"id":"13","name":"武田 将平"}},"fixed_version":{"@attributes":{"id":"7","name":"楽園"}},"subject":"楽園 相関図","description":"11/17(木)　構成案作成\n11/24(木)　ラフ提出\n11/29(火)　デザインFIX→コーディング\n12/6(火)　テストアップ\n12/9(金)　公開","start_date":"2016-11-29","due_date":"2016-12-07","done_ratio":"0","is_private":"false","estimated_hours":[],"created_on":"2016-11-11T00:20:31Z","updated_on":"2016-11-11T10:19:33Z","closed_on":[]},{"id":"32","project":{"@attributes":{"id":"3","name":"[一星企画]WOWOW"}},"tracker":{"@attributes":{"id":"2","name":"開発"}},"status":{"@attributes":{"id":"2","name":"対応中"}},"priority":{"@attributes":{"id":"2","name":"通常"}},"author":{"@attributes":{"id":"13","name":"武田 将平"}},"assigned_to":{"@attributes":{"id":"13","name":"武田 将平"}},"fixed_version":{"@attributes":{"id":"7","name":"楽園"}},"subject":"楽園 エピソード","description":"11/10(木)　構成案作成\n11/16(水)　ラフ確認\n11/17(木)　デザインFIX→コーディング\n11/24(木)　テストアップ\n12/2(金)　公開","start_date":"2016-11-24","due_date":"2016-12-05","done_ratio":"30","is_private":"false","estimated_hours":"10.0","created_on":"2016-11-11T00:19:31Z","updated_on":"2016-11-30T02:55:29Z","closed_on":[]},{"id":"31","project":{"@attributes":{"id":"3","name":"[一星企画]WOWOW"}},"tracker":{"@attributes":{"id":"2","name":"開発"}},"status":{"@attributes":{"id":"8","name":"未請求"}},"priority":{"@attributes":{"id":"2","name":"通常"}},"author":{"@attributes":{"id":"13","name":"武田 将平"}},"assigned_to":{"@attributes":{"id":"10","name":"高橋 知明"}},"fixed_version":{"@attributes":{"id":"7","name":"楽園"}},"subject":"楽園 イントロ修正","description":"11/9(水)　構成案作成\n11/14(月)　ラフ確認\n11/16(水)　デザインFIX→コーディング\n11/21(月)　テストアップ\n11/22(火)　公開\n","start_date":"2016-11-16","due_date":"2016-11-21","done_ratio":"100","is_private":"false","estimated_hours":"16.0","created_on":"2016-11-11T00:18:38Z","updated_on":"2016-11-22T09:51:55Z","closed_on":[]},{"id":"30","project":{"@attributes":{"id":"3","name":"[一星企画]WOWOW"}},"tracker":{"@attributes":{"id":"2","name":"開発"}},"status":{"@attributes":{"id":"8","name":"未請求"}},"priority":{"@attributes":{"id":"2","name":"通常"}},"author":{"@attributes":{"id":"13","name":"武田 将平"}},"assigned_to":{"@attributes":{"id":"10","name":"高橋 知明"}},"fixed_version":{"@attributes":{"id":"2","name":"音楽"}},"subject":"音楽 CNBLUE","description":"------------------------------\n■スケジュール\n11/15(火) 一星へのテストアップ\n11/16(水) テストアップ\n11/29(火)17:30 公開\n------------------------------","start_date":"2016-11-15","due_date":"2016-11-15","done_ratio":"100","is_private":"false","estimated_hours":"2.0","created_on":"2016-11-11T00:16:59Z","updated_on":"2016-11-20T23:49:55Z","closed_on":[]},{"id":"28","project":{"@attributes":{"id":"3","name":"[一星企画]WOWOW"}},"tracker":{"@attributes":{"id":"2","name":"開発"}},"status":{"@attributes":{"id":"8","name":"未請求"}},"priority":{"@attributes":{"id":"2","name":"通常"}},"author":{"@attributes":{"id":"13","name":"武田 将平"}},"assigned_to":{"@attributes":{"id":"10","name":"高橋 知明"}},"fixed_version":{"@attributes":{"id":"1","name":"コールドケース"}},"subject":"コールドケース　脳トレ5回目","description":"お疲れ様です。\nコールドの脳トレの対応をお願いします。\n\n-------\n※SPのTOPページ導線バナーの日付も更新をお願いします。\n\nヒント：他の部活の部員が混ざってる！？\n\n次回の更新日：11/19\n\nスタート\n 河鰭 久美2016年11月9日 10:35\nファイルをアップロードしました。\n\nbefore05.jpg (129.67 KB) プレビュー\n推奨セキュリティソフト\n\nエンド\n 河鰭 久美2016年11月9日 10:35\nファイルをアップロードしました。\n\nafter05.jpg (131.02 KB) プレビュー\n推奨セキュリティソフト\n\nポイントゲット用アドレスと各話タイトル\nhttps://www.chatwork.com/#!rid56621379-1551510547 メッセージリンク\n--------\n\n■Case:05　「プール」\nhttp://point.wowow.co.jp/campaign/?cp=760&ret=%2Fcampaign%2Fthanks.html\n\nよろしくお願いいたします。","start_date":"2016-11-09","due_date":"2016-11-10","done_ratio":"100","is_private":"false","estimated_hours":"2.0","created_on":"2016-11-09T05:49:22Z","updated_on":"2016-11-11T08:41:31Z","closed_on":[]},{"id":"27","project":{"@attributes":{"id":"12","name":"[高野_個人用]"}},"tracker":{"@attributes":{"id":"2","name":"開発"}},"status":{"@attributes":{"id":"7","name":"割当"}},"priority":{"@attributes":{"id":"2","name":"通常"}},"author":{"@attributes":{"id":"14","name":"高野 圭史"}},"assigned_to":{"@attributes":{"id":"14","name":"高野 圭史"}},"subject":"CI","description":[],"start_date":"2016-11-09","due_date":[],"done_ratio":"20","is_private":"false","estimated_hours":[],"created_on":"2016-11-09T02:24:32Z","updated_on":"2016-11-18T02:04:51Z","closed_on":[]},{"id":"26","project":{"@attributes":{"id":"12","name":"[高野_個人用]"}},"tracker":{"@attributes":{"id":"2","name":"開発"}},"status":{"@attributes":{"id":"7","name":"割当"}},"priority":{"@attributes":{"id":"2","name":"通常"}},"author":{"@attributes":{"id":"14","name":"高野 圭史"}},"assigned_to":{"@attributes":{"id":"14","name":"高野 圭史"}},"subject":"AutomaticCheckEnterLeavePerson","description":"AutomaticCheckEnterLeavePerson","start_date":"2016-11-09","due_date":[],"done_ratio":"0","is_private":"false","estimated_hours":[],"created_on":"2016-11-09T01:11:44Z","updated_on":"2016-11-18T02:05:02Z","closed_on":[]},{"id":"24","project":{"@attributes":{"id":"9","name":"[SEP]スキル管理サービス"}},"tracker":{"@attributes":{"id":"2","name":"開発"}},"status":{"@attributes":{"id":"1","name":"新規"}},"priority":{"@attributes":{"id":"2","name":"通常"}},"author":{"@attributes":{"id":"6","name":"松重 信行"}},"assigned_to":{"@attributes":{"id":"6","name":"松重 信行"}},"category":{"@attributes":{"id":"1","name":"開発"}},"fixed_version":{"@attributes":{"id":"6","name":"環境・ソース整備"}},"subject":"スキルマップを多人数同時に見れるようにする。","description":[],"start_date":"2016-06-30","due_date":"2016-07-29","done_ratio":"0","is_private":"false","estimated_hours":[],"created_on":"2016-11-08T04:34:15Z","updated_on":"2016-11-08T06:35:00Z","closed_on":[]},{"id":"23","project":{"@attributes":{"id":"9","name":"[SEP]スキル管理サービス"}},"tracker":{"@attributes":{"id":"2","name":"開発"}},"status":{"@attributes":{"id":"1","name":"新規"}},"priority":{"@attributes":{"id":"2","name":"通常"}},"author":{"@attributes":{"id":"6","name":"松重 信行"}},"assigned_to":{"@attributes":{"id":"6","name":"松重 信行"}},"category":{"@attributes":{"id":"2","name":"調査"}},"subject":"80許可してしまっているので削除する","description":"h3. 下記設定を検証のために入れたので、そのうち削除すること\n\n* /etc/nginx/conf.d/default.conf\n** 2行目 : 削除\n<pre>\n2     listen 80; \n</pre>\n** 21 - 25行目 : 削除\n<pre>\n 21     location /translate {\n 22       satisfy any;\n 23       allow   all;\n 24     }\n 25     \n</pre>\n* /var/www/laravel/public/translate\n*# 配下のファイルは他のサーバ(se-project.org等)に退避\n*# フォルダごと削除\n","start_date":"2016-06-29","due_date":"2016-06-30","done_ratio":"0","is_private":"false","estimated_hours":[],"created_on":"2016-11-08T04:34:15Z","updated_on":"2016-11-08T04:34:15Z","closed_on":[]},{"id":"22","project":{"@attributes":{"id":"9","name":"[SEP]スキル管理サービス"}},"tracker":{"@attributes":{"id":"2","name":"開発"}},"status":{"@attributes":{"id":"1","name":"新規"}},"priority":{"@attributes":{"id":"2","name":"通常"}},"author":{"@attributes":{"id":"6","name":"松重 信行"}},"assigned_to":{"@attributes":{"id":"6","name":"松重 信行"}},"category":{"@attributes":{"id":"1","name":"開発"}},"fixed_version":{"@attributes":{"id":"6","name":"環境・ソース整備"}},"subject":".envの切替で環境ごとの設定を変更できるようにする。","description":[],"start_date":[],"due_date":[],"done_ratio":"0","is_private":"false","estimated_hours":[],"created_on":"2016-11-08T04:34:14Z","updated_on":"2016-11-08T04:34:14Z","closed_on":[]},{"id":"21","project":{"@attributes":{"id":"9","name":"[SEP]スキル管理サービス"}},"tracker":{"@attributes":{"id":"2","name":"開発"}},"status":{"@attributes":{"id":"1","name":"新規"}},"priority":{"@attributes":{"id":"2","name":"通常"}},"author":{"@attributes":{"id":"6","name":"松重 信行"}},"fixed_version":{"@attributes":{"id":"6","name":"環境・ソース整備"}},"subject":"環境構築手順を統一","description":"MacとWindowsで環境構築手順がことなるので統一する。\n# Macではローカルにansibleを導入しているが、仮想ホスト上にansibleを導入する。※Windowsと同じ手順にする。\n * Vagrantfile変更\n * windows用のファイル群廃止\n * README.mdを修正。","start_date":[],"due_date":[],"done_ratio":"0","is_private":"false","estimated_hours":[],"created_on":"2016-11-08T04:34:14Z","updated_on":"2016-11-08T04:34:14Z","closed_on":[]},{"id":"20","project":{"@attributes":{"id":"9","name":"[SEP]スキル管理サービス"}},"tracker":{"@attributes":{"id":"2","name":"開発"}},"status":{"@attributes":{"id":"1","name":"新規"}},"priority":{"@attributes":{"id":"2","name":"通常"}},"author":{"@attributes":{"id":"6","name":"松重 信行"}},"assigned_to":{"@attributes":{"id":"6","name":"松重 信行"}},"category":{"@attributes":{"id":"2","name":"調査"}},"fixed_version":{"@attributes":{"id":"6","name":"環境・ソース整備"}},"subject":"vbguestのバージョン不整合不具合","description":"環境構築時にvbguestとVirtual Boxのバージョン不整合でエラーとなってしまう。\n現状の手順はVagrantfileにバージョンアップ抑制の手順を入れて対応しているが、\n根本対応を行う。","start_date":[],"due_date":[],"done_ratio":"0","is_private":"false","estimated_hours":[],"created_on":"2016-11-08T04:34:14Z","updated_on":"2016-11-08T04:34:14Z","closed_on":[]},{"id":"19","project":{"@attributes":{"id":"9","name":"[SEP]スキル管理サービス"}},"tracker":{"@attributes":{"id":"2","name":"開発"}},"status":{"@attributes":{"id":"1","name":"新規"}},"priority":{"@attributes":{"id":"2","name":"通常"}},"author":{"@attributes":{"id":"6","name":"松重 信行"}},"assigned_to":{"@attributes":{"id":"6","name":"松重 信行"}},"subject":"conohaに複数のアプリケーションを乗せられるようにする","description":"Ansibleやデプロイツール用のプライベートリポジトリの用意\nnginx.confの分離\nphp-fpmのソケットの分離\n\n","start_date":"2016-03-19","due_date":[],"done_ratio":"10","is_private":"false","estimated_hours":[],"created_on":"2016-11-08T04:34:14Z","updated_on":"2016-11-08T06:33:05Z","closed_on":[]},{"id":"18","project":{"@attributes":{"id":"9","name":"[SEP]スキル管理サービス"}},"tracker":{"@attributes":{"id":"2","name":"開発"}},"status":{"@attributes":{"id":"1","name":"新規"}},"priority":{"@attributes":{"id":"2","name":"通常"}},"author":{"@attributes":{"id":"6","name":"松重 信行"}},"assigned_to":{"@attributes":{"id":"6","name":"松重 信行"}},"category":{"@attributes":{"id":"1","name":"開発"}},"fixed_version":{"@attributes":{"id":"6","name":"環境・ソース整備"}},"subject":"評価者権限のユーザもスキル登録したい","description":"評価者権限で登録されている人も技術者である場合があるので(松金さんや高野さん)、\n評価者登録済みのユーザに対してスキル登録できる仕組みを実現したい。\n\n案は下記2つ\n# 評価者も、技術者一覧に表示し、スキルを登録可にする。\n# 権限が異なれば(評価者:user.authority=10, 技術者:user.authority=20)同じメールアドレスの登録を許可する。","start_date":[],"due_date":[],"done_ratio":"0","is_private":"false","estimated_hours":[],"created_on":"2016-11-08T04:34:14Z","updated_on":"2016-11-08T04:34:14Z","closed_on":[]},{"id":"17","project":{"@attributes":{"id":"9","name":"[SEP]スキル管理サービス"}},"tracker":{"@attributes":{"id":"2","name":"開発"}},"status":{"@attributes":{"id":"1","name":"新規"}},"priority":{"@attributes":{"id":"2","name":"通常"}},"author":{"@attributes":{"id":"6","name":"松重 信行"}},"assigned_to":{"@attributes":{"id":"6","name":"松重 信行"}},"category":{"@attributes":{"id":"1","name":"開発"}},"fixed_version":{"@attributes":{"id":"6","name":"環境・ソース整備"}},"subject":"バリデーションの共通化","description":"https://redmine.se-project.org/issues/8058#note-4 で提示された課題の対応。\n","start_date":[],"due_date":[],"done_ratio":"0","is_private":"false","estimated_hours":[],"created_on":"2016-11-08T04:34:14Z","updated_on":"2016-11-08T04:34:14Z","closed_on":[]},{"id":"16","project":{"@attributes":{"id":"9","name":"[SEP]スキル管理サービス"}},"tracker":{"@attributes":{"id":"2","name":"開発"}},"status":{"@attributes":{"id":"1","name":"新規"}},"priority":{"@attributes":{"id":"3","name":"高め"}},"author":{"@attributes":{"id":"6","name":"松重 信行"}},"assigned_to":{"@attributes":{"id":"6","name":"松重 信行"}},"category":{"@attributes":{"id":"1","name":"開発"}},"fixed_version":{"@attributes":{"id":"6","name":"環境・ソース整備"}},"subject":"Nginx で413 Request Entity Too Large","description":"大きいサイズの画像を登録すると表題のエラーが発生します。\n対応方法は以下。\n\n1.Nginxでclient_max_body_sizeを設定する\n2.画像サイズのバリデーションを追加する。","start_date":"2016-03-06","due_date":[],"done_ratio":"100","is_private":"false","estimated_hours":[],"created_on":"2016-11-08T04:34:14Z","updated_on":"2016-11-08T06:32:14Z","closed_on":[]},{"id":"15","project":{"@attributes":{"id":"9","name":"[SEP]スキル管理サービス"}},"tracker":{"@attributes":{"id":"2","name":"開発"}},"status":{"@attributes":{"id":"1","name":"新規"}},"priority":{"@attributes":{"id":"2","name":"通常"}},"author":{"@attributes":{"id":"6","name":"松重 信行"}},"assigned_to":{"@attributes":{"id":"6","name":"松重 信行"}},"subject":"JSなどでユーザビリティ向上について考える","description":"例えば、検索ボタンをクリックすると検索の入力領域がヌルッと表示したりと。\nユーザの使い心地をアップさせる仕組みを考えて導入する。\nあと、技術者登録などの横に鉛筆ボタンなどがさりげなくあるとわかりやすくなったりする。\nそこらへんについて考える。\n要望があればこちらに書いてください","start_date":"2016-03-04","due_date":[],"done_ratio":"0","is_private":"false","estimated_hours":[],"created_on":"2016-11-08T04:34:14Z","updated_on":"2016-11-08T06:31:51Z","closed_on":[]},{"id":"14","project":{"@attributes":{"id":"9","name":"[SEP]スキル管理サービス"}},"tracker":{"@attributes":{"id":"2","name":"開発"}},"status":{"@attributes":{"id":"1","name":"新規"}},"priority":{"@attributes":{"id":"1","name":"低め"}},"author":{"@attributes":{"id":"6","name":"松重 信行"}},"assigned_to":{"@attributes":{"id":"6","name":"松重 信行"}},"category":{"@attributes":{"id":"1","name":"開発"}},"fixed_version":{"@attributes":{"id":"6","name":"環境・ソース整備"}},"subject":"一覧部分の高さはブラウザの表示高さによって変動してもいいかも","description":"解像度の高いディスプレイで見ると余るので、footerは下部に固定して、ギリギリまで高さを持たせてもいいかも。\nそっちの方が見やすいという提案。","start_date":"2016-03-04","due_date":[],"done_ratio":"100","is_private":"false","estimated_hours":[],"created_on":"2016-11-08T04:34:14Z","updated_on":"2016-11-08T06:31:28Z","closed_on":[]},{"id":"13","project":{"@attributes":{"id":"9","name":"[SEP]スキル管理サービス"}},"tracker":{"@attributes":{"id":"2","name":"開発"}},"status":{"@attributes":{"id":"1","name":"新規"}},"priority":{"@attributes":{"id":"3","name":"高め"}},"author":{"@attributes":{"id":"6","name":"松重 信行"}},"subject":"技術者新規登録でフォームの枠線が白なのでどこにフォームがあるか解らない問題","description":"未入力の箇所には薄く色をつけるなどのJSを書くとよいかも","start_date":"2016-03-03","due_date":[],"done_ratio":"50","is_private":"false","estimated_hours":[],"created_on":"2016-11-08T04:34:14Z","updated_on":"2016-11-08T06:31:08Z","closed_on":[]},{"id":"12","project":{"@attributes":{"id":"9","name":"[SEP]スキル管理サービス"}},"tracker":{"@attributes":{"id":"2","name":"開発"}},"status":{"@attributes":{"id":"1","name":"新規"}},"priority":{"@attributes":{"id":"2","name":"通常"}},"author":{"@attributes":{"id":"6","name":"松重 信行"}},"assigned_to":{"@attributes":{"id":"6","name":"松重 信行"}},"category":{"@attributes":{"id":"1","name":"開発"}},"fixed_version":{"@attributes":{"id":"6","name":"環境・ソース整備"}},"subject":"エラー制御とエラーページの表示","description":"エラー発生時に、エラーページへ飛ぶように設定、制御する。","start_date":[],"due_date":[],"done_ratio":"100","is_private":"false","estimated_hours":[],"created_on":"2016-11-08T04:34:14Z","updated_on":"2016-11-08T06:30:45Z","closed_on":[]},{"id":"11","project":{"@attributes":{"id":"9","name":"[SEP]スキル管理サービス"}},"tracker":{"@attributes":{"id":"2","name":"開発"}},"status":{"@attributes":{"id":"1","name":"新規"}},"priority":{"@attributes":{"id":"2","name":"通常"}},"author":{"@attributes":{"id":"6","name":"松重 信行"}},"category":{"@attributes":{"id":"1","name":"開発"}},"fixed_version":{"@attributes":{"id":"6","name":"環境・ソース整備"}},"subject":"CSS振り返り","description":"CSS(SMACSS等)について振り返り。","start_date":"2016-03-03","due_date":"2016-03-11","done_ratio":"100","is_private":"false","estimated_hours":[],"created_on":"2016-11-08T04:34:14Z","updated_on":"2016-11-08T06:30:26Z","closed_on":[]},{"id":"10","project":{"@attributes":{"id":"9","name":"[SEP]スキル管理サービス"}},"tracker":{"@attributes":{"id":"2","name":"開発"}},"status":{"@attributes":{"id":"1","name":"新規"}},"priority":{"@attributes":{"id":"2","name":"通常"}},"author":{"@attributes":{"id":"6","name":"松重 信行"}},"assigned_to":{"@attributes":{"id":"6","name":"松重 信行"}},"category":{"@attributes":{"id":"1","name":"開発"}},"fixed_version":{"@attributes":{"id":"6","name":"環境・ソース整備"}},"subject":"技術者のスキル設定で習熟度が登録できるようにする","description":"技術者情報の登録、更新機能にて、\nスキル毎の習熟度を設定できるようにする。\n","start_date":[],"due_date":[],"done_ratio":"0","is_private":"false","estimated_hours":[],"created_on":"2016-11-08T04:34:14Z","updated_on":"2016-11-08T06:30:01Z","closed_on":[]},{"id":"9","project":{"@attributes":{"id":"9","name":"[SEP]スキル管理サービス"}},"tracker":{"@attributes":{"id":"2","name":"開発"}},"status":{"@attributes":{"id":"1","name":"新規"}},"priority":{"@attributes":{"id":"2","name":"通常"}},"author":{"@attributes":{"id":"6","name":"松重 信行"}},"assigned_to":{"@attributes":{"id":"6","name":"松重 信行"}},"category":{"@attributes":{"id":"1","name":"開発"}},"fixed_version":{"@attributes":{"id":"6","name":"環境・ソース整備"}},"subject":"技術者がログイン後に自身の閲覧ページが表示されるようにする。","description":"技術者がログイン後に自身の閲覧ページが表示されるようにする。","start_date":[],"due_date":[],"done_ratio":"0","is_private":"false","estimated_hours":[],"created_on":"2016-11-08T04:34:14Z","updated_on":"2016-11-08T06:29:33Z","closed_on":[]},{"id":"8","project":{"@attributes":{"id":"9","name":"[SEP]スキル管理サービス"}},"tracker":{"@attributes":{"id":"2","name":"開発"}},"status":{"@attributes":{"id":"1","name":"新規"}},"priority":{"@attributes":{"id":"1","name":"低め"}},"author":{"@attributes":{"id":"6","name":"松重 信行"}},"assigned_to":{"@attributes":{"id":"6","name":"松重 信行"}},"category":{"@attributes":{"id":"2","name":"調査"}},"fixed_version":{"@attributes":{"id":"6","name":"環境・ソース整備"}},"subject":"スキル一覧はタグの内容でソートしたい","description":"スキル一覧はタグの内容でソートしたい。\n\n* 松重の要望\n* 実現性を検討してから","start_date":[],"due_date":[],"done_ratio":"0","is_private":"false","estimated_hours":[],"created_on":"2016-11-08T04:34:14Z","updated_on":"2016-11-08T06:29:08Z","closed_on":[]},{"id":"7","project":{"@attributes":{"id":"9","name":"[SEP]スキル管理サービス"}},"tracker":{"@attributes":{"id":"2","name":"開発"}},"status":{"@attributes":{"id":"1","name":"新規"}},"priority":{"@attributes":{"id":"2","name":"通常"}},"author":{"@attributes":{"id":"6","name":"松重 信行"}},"assigned_to":{"@attributes":{"id":"6","name":"松重 信行"}},"category":{"@attributes":{"id":"1","name":"開発"}},"fixed_version":{"@attributes":{"id":"6","name":"環境・ソース整備"}},"subject":"技術者一覧から直接マップ表示したほうが良い","description":"技術者一覧(rater/staffs)から編集画面への遷移は、\n先にマップ表示(/rater/staffs/view/37)へ遷移して、そこから編集画面へ行けるようにしたほうが良さそうなので、\n遷移をそのように変更する。","start_date":"2016-03-17","due_date":"2016-03-18","done_ratio":"90","is_private":"false","estimated_hours":[],"created_on":"2016-11-08T04:34:14Z","updated_on":"2016-11-08T06:28:28Z","closed_on":[]},{"id":"6","project":{"@attributes":{"id":"9","name":"[SEP]スキル管理サービス"}},"tracker":{"@attributes":{"id":"2","name":"開発"}},"status":{"@attributes":{"id":"1","name":"新規"}},"priority":{"@attributes":{"id":"2","name":"通常"}},"author":{"@attributes":{"id":"6","name":"松重 信行"}},"fixed_version":{"@attributes":{"id":"6","name":"環境・ソース整備"}},"subject":"技術者登録時にパスワード通知メール送信","description":"技術者の登録時に、パスワードを通知するメールを送信する処理を追加。\n","start_date":"2016-02-29","due_date":[],"done_ratio":"0","is_private":"false","estimated_hours":[],"created_on":"2016-11-08T04:34:14Z","updated_on":"2016-11-08T04:34:14Z","closed_on":[]},{"id":"5","project":{"@attributes":{"id":"9","name":"[SEP]スキル管理サービス"}},"tracker":{"@attributes":{"id":"2","name":"開発"}},"status":{"@attributes":{"id":"1","name":"新規"}},"priority":{"@attributes":{"id":"2","name":"通常"}},"author":{"@attributes":{"id":"6","name":"松重 信行"}},"fixed_version":{"@attributes":{"id":"6","name":"環境・ソース整備"}},"subject":"本番環境で登録時のメール送れるようにする。","description":[],"start_date":"2016-02-29","due_date":[],"done_ratio":"0","is_private":"false","estimated_hours":[],"created_on":"2016-11-08T04:34:13Z","updated_on":"2016-11-08T04:34:13Z","closed_on":[]},{"id":"4","project":{"@attributes":{"id":"9","name":"[SEP]スキル管理サービス"}},"tracker":{"@attributes":{"id":"2","name":"開発"}},"status":{"@attributes":{"id":"1","name":"新規"}},"priority":{"@attributes":{"id":"2","name":"通常"}},"author":{"@attributes":{"id":"6","name":"松重 信行"}},"assigned_to":{"@attributes":{"id":"6","name":"松重 信行"}},"category":{"@attributes":{"id":"1","name":"開発"}},"fixed_version":{"@attributes":{"id":"6","name":"環境・ソース整備"}},"subject":"保守性向上","description":"冗長な処理、保守性の悪い処理をリファクタリングしたい。\nどこを直すかの調査も含めて、先ずは一週間でできるところまでお願いします。","start_date":"2016-02-29","due_date":"2016-03-31","done_ratio":"80","is_private":"false","estimated_hours":[],"created_on":"2016-11-08T04:34:13Z","updated_on":"2016-11-08T06:22:53Z","closed_on":[]},{"id":"3","project":{"@attributes":{"id":"9","name":"[SEP]スキル管理サービス"}},"tracker":{"@attributes":{"id":"2","name":"開発"}},"status":{"@attributes":{"id":"1","name":"新規"}},"priority":{"@attributes":{"id":"1","name":"低め"}},"author":{"@attributes":{"id":"6","name":"松重 信行"}},"fixed_version":{"@attributes":{"id":"6","name":"環境・ソース整備"}},"subject":"デプロイツールの導入","description":"現状デプロイはrmしてcpするだけのシェルなので、デプロイツールを導入したほうがよい","start_date":"2016-02-27","due_date":[],"done_ratio":"0","is_private":"false","estimated_hours":[],"created_on":"2016-11-08T04:34:13Z","updated_on":"2016-11-08T06:21:37Z","closed_on":[]},{"id":"2","project":{"@attributes":{"id":"9","name":"[SEP]スキル管理サービス"}},"tracker":{"@attributes":{"id":"2","name":"開発"}},"status":{"@attributes":{"id":"1","name":"新規"}},"priority":{"@attributes":{"id":"1","name":"低め"}},"author":{"@attributes":{"id":"6","name":"松重 信行"}},"fixed_version":{"@attributes":{"id":"6","name":"環境・ソース整備"}},"subject":"password暗号化","description":"ansibleとlaravelにpasswordを直書きしているので、暗号化したいできれば\n","start_date":"2016-02-27","due_date":[],"done_ratio":"0","is_private":"false","estimated_hours":[],"created_on":"2016-11-08T04:34:13Z","updated_on":"2016-11-08T04:34:13Z","closed_on":[]},{"id":"1","project":{"@attributes":{"id":"9","name":"[SEP]スキル管理サービス"}},"tracker":{"@attributes":{"id":"2","name":"開発"}},"status":{"@attributes":{"id":"1","name":"新規"}},"priority":{"@attributes":{"id":"2","name":"通常"}},"author":{"@attributes":{"id":"6","name":"松重 信行"}},"assigned_to":{"@attributes":{"id":"6","name":"松重 信行"}},"fixed_version":{"@attributes":{"id":"6","name":"環境・ソース整備"}},"subject":"[課題]一覧でデータが多い場合にいろいろある","description":"評価者や技術者の一覧画面(/admin/raters, /rater/staffs)にて、\nデータが多い場合に下記のような現象が懸念される。\n要改善。\n\n# ページ自体のスクロールが長くなる。※画面下部には何も表示されない。\n# ページング実装していないので、大量データを全て取得、表示してしまうためレスポンスが後々悪くなる。","start_date":"2016-03-04","due_date":"2016-03-20","done_ratio":"0","is_private":"false","estimated_hours":[],"created_on":"2016-11-08T04:34:13Z","updated_on":"2016-11-08T04:35:41Z","closed_on":[]}]';
        $comparison = json_decode($comparison, true);

        $response = $this->service->createTicketInfo($comparison);

        $this->assertArrayHasKey('id', $response[0]);
        $this->assertArrayHasKey('project', $response[0]);
        $this->assertArrayHasKey('author', $response[0]);
        $this->assertArrayHasKey('assigned_to', $response[0]);
        $this->assertArrayHasKey('subject', $response[0]);
        $this->assertArrayHasKey('description', $response[0]);
        $this->assertArrayHasKey('start_date', $response[0]);
        $this->assertArrayHasKey('due_date', $response[0]);
        $this->assertArrayHasKey('done_ratio', $response[0]);
        $this->assertArrayHasKey('created_on', $response[0]);
        $this->assertArrayHasKey('updated_on', $response[0]);
    }

    /**
     *
     */
    public function testGetUpdatedTicket()
    {

        $ticket_info = '[{"id":"50","project":"[高野_個人用]","author":"高野 圭史","assigned_to":"高野 圭史","subject":"GASにBotを住まわせる","description":null,"start_date":"2016-11-30","due_date":null,"done_ratio":null,"created_on":"2016-11-30T05:18:23Z","updated_on":"2016-11-30T05:18:23Z"},{"id":"49","project":"[高野_個人用]","author":"高野 圭史","assigned_to":"高野 圭史","subject":"RM関連のServiceクラスの自動テスト","description":"LD関連で実施したことの水平展開\n\n","start_date":"2016-11-30","due_date":null,"done_ratio":null,"created_on":"2016-11-30T01:14:27Z","updated_on":"2016-11-30T01:14:27Z"},{"id":"48","project":"[高野_個人用]","author":"高野 圭史","assigned_to":"高野 圭史","subject":"LD関連のServiceクラスの自動テスト","description":"\n注意：自分たちで変更できない型をモックしてはならない\n\nアダプタ層の切り離しがまだなのでそこも合わせて行う","start_date":"2016-11-28","due_date":null,"done_ratio":"90","created_on":"2016-11-28T01:43:22Z","updated_on":"2016-11-29T01:01:17Z"},{"id":"47","project":"[一星企画]WOWOW","author":"武田 将平","assigned_to":"高橋 知明","subject":"音楽 YOSHIKI","description":"ご確認ありがとうございます。\nそれでは、新規ティザー「YOSHIKI」のコーディングをお願いします。\n\n------------------------------------------------------------\n■番組タイトル\n生中継！YOSHIKI CLASSICAL SPECIAL feat. Tokyo Philharmonic Orchestra\nat Carnegie Hall in New York City\n\n■画像とデザイン\n後送します。\n\n■キャッチ\n--------\nクラシックの聖地にYOSHIKIが降り立つ。ニューヨーク・カーネギーホールで行なわれる東京フィルハーモニー交響楽団との共演をWOWOWで生中継。\n--------\n\n■リリース\n--------\n2017年1月12、13日の2日にわたり、米国ニューヨークのカーネギーホールで行なわれるYOSHIKIのコンサートから2日目の模様を生中継する。さらに同日夜、コンサートの熱気冷めやらぬうちにディレイ放送で公演の模様をお届けする。\n\n125年の歴史を持つこの会場は、チャイコフスキーやラフマニノフなどのクラシックの音楽家から、マイルス・デイヴィス、フランク・シナトラ、ビートルズ、ザ・ローリング・ストーンズなど歴史にその名を刻むミュージシャンが演奏してきた。音楽史そのものが息づく“聖地”で、YOSHIKIが東京フィルハーモニー交響楽団の47名と共演し、オリジナル楽曲から伝統的なクラシック楽曲までを披露する。\n\nX JAPANとしてマジソン・スクエア・ガーデン公演を成功させ、2017年3月4日には英国ウェンブリーアリーナで同バンドの単独公演を予定するなど、クラシックの聖地とロックの聖地の両会場で単独公演を行なう唯一無二の世界的アーティストとなるYOSHIKIの歴史的ステージは\n必見！\n--------\n\n■収録日等\n--------\n収録日：2017年1月13日\n収録場所：アメリカ・ニューヨーク州ニューヨーク カーネギーホール\n出演：YOSHIKI、東京フィルハーモニー交響楽団\n--------\n\n■OA告知\n-------------\n[WOWOWプライム][生] 2017/1/14（土）午前9:30\n[WOWOWライブ] 2017/1/14（土）よる9:30\n-------------\n\n■加入ボタン\n-------\nご加入はこちら\n-------\n\n■バーチャルコード\n----------\n8009702997004\n----------\n\n■公開URL\nhttp://www.wowow.co.jp/music/yoshiki/\n\n■SNS画像文言\nアーティスト名 \n---------\nYOSHIKI\n---------\n\n■スケジュール\n11/25（金) テストアップ\n12/3(土)公開予定\n\n------------------------------------------------------------\n\n時間がなく申し訳ありませんが、よろしくお願い致します。\n画像や設定情報は、届き次第お送りするように致します。\n\nご確認の程、宜しくお願い申し上げます。\n\n\nYOSHIKIの画像パーツはこちらになります。\nhttps://www.chatwork.com/#!rid53386047-1603288181 メッセージリンク\n\n参考までに、_sample.jpg も入れてあります。\n※大まかなイメージです。\n※タイトル上下のスペースなど参考にしてください。\n\n文字サイズ等の設定は既存のママでお願いします。\n---------------------------------\n背景　上　　　：#ffffff\n背景　下　　　：#000000\nOA・キャッチ ：#c70003\n加入背景　　　：#c70003\nヘッダー　　　：白\n---------------------------------\n\nご対応、よろしくお願い致します。","start_date":"2016-11-25","due_date":"2016-11-25","done_ratio":"100","created_on":"2016-11-25T07:19:24Z","updated_on":"2016-11-30T05:07:57Z"},{"id":"46","project":"[一星企画]WOWOW","author":"武田 将平","assigned_to":"高橋 知明","subject":"コールドケース　脳トレ7回目","description":"お疲れ様です。\n「連続ドラマW　コールドケース ～真実の扉～」の週末更新について、確認です。\n脳トレ以外の部分の更新は、SEPさんの方で対応可能でしょうか？\n対応可能でしたら、更新情報をお送りします。\n\n脳トレの情報、お送りします。\nhttps://www.chatwork.com/#!rid53386047-1601131867 メッセージリンク\n\nご確認宜しくお願いします。","start_date":"2016-11-24","due_date":"2016-11-24","done_ratio":"100","created_on":"2016-11-24T07:47:10Z","updated_on":"2016-11-25T09:28:36Z"},{"id":"45","project":"[一星企画]WOWOW","author":"武田 将平","assigned_to":"高橋 知明","subject":"楽園 TOP関連番組欄追加","description":"つまり手が空いているということですね。\n\n楽園で、イントロの画像追加と同じタイミングで公開したいとかいうブツのデザインがさっき届いたんですが\nこちらのご対応お願いできますか？TOPに追加するので、インクルードファイルで作ったら楽そうです。\n\n◆PCラフ\n 河鰭 久美2016年11月18日 16:13\nファイルをアップロードしました。\n\n161116_rakuen_top.jpg (198.22 KB) プレビュー\n推奨セキュリティソフト\n◆SPラフ\n 河鰭 久美2016年11月18日 16:13\nファイルをアップロードしました。\n\n161118_kanren_smp.jpg (163.31 KB) プレビュー\n推奨セキュリティソフト\n◆PSD\n 河鰭 久美2016年11月18日 16:13\nファイルをアップロードしました。\n161116_rakuen_kanren_sp.zip (1.95 MB)\n推奨セキュリティソフト\n 河鰭 久美2016年11月18日 16:13\nファイルをアップロードしました。\n161116_rakuen_top_code.zip (4.17 MB)\n推奨セキュリティソフト\n\n◆担当さんより\nTOPページに「関連特集」の情報を追加をお願いします。リンクは無しです（後にリンク先が生成されたら追加対応）","start_date":"2016-11-18","due_date":"2016-11-18","done_ratio":"100","created_on":"2016-11-21T08:44:51Z","updated_on":"2016-11-22T09:52:06Z"},{"id":"44","project":"[一星企画]WOWOW","author":"武田 将平","assigned_to":"武田 将平","subject":"音楽 絢香","description":"お疲れ様です。\n音楽テンプレ続きですが、下記ご準備よろしくお願いいたします。\n\n--------------------------------☆\nお疲れ様です。\n新規ティザー「絢香」の制作担当割をお願いします。\n音楽テンプレートで制作お願いします。\n\n■番組タイトル\n絢香 10th Anniversary SUPER BEST TOUR\n\n■画像とデザイン(デザイナーさん宛)\n参考にアーティストオフィシャルをお送りいたします。\nアーティストオフィシャル http://room-ayaka.jp/\n10周年記念ページ https://ticket.yahoo.co.jp/special/ayaka10th/\n\n■キャッチ\n--------\n圧倒的な声量と情感豊かな歌声で人々の心を震わせる絢香。2016年、デビュー10周年を迎える自身最大規模のアニバーサリーツアー！\n--------\n\n■リリース\n--------\n2006年、あふれる才能と圧倒的な存在感とともにミュージックシーンに登場した絢香。天性の歌唱力とソングライティングによって、これまでに数多くの感動を生み出してきた彼女が、2016年にデビュー10周年を迎えた。デビュー日の2月1日に一夜限りで行なわれた東京・国立代々木競技場第一体育館でのライブ、7月のベストアルバム『THIS IS ME～絢香 10th anniversary BEST～』リリースを経て、9月からは同作を携えてのアリーナツアーを追加公演含め全国10会場14公演開催。そのメモリアルなライブツアーから10月23日の埼玉・さいたまスーパーアリーナでのライブの模様を放送する。\n\n18歳、高校3年の冬にアーティストデビューを飾った絢香が28歳を目前に控えて行なった“10年の集大成”。研ぎ澄まされていた感性には、熟練した表現力が加わった。彼女の、10年の歩みを目と耳で確かめていただきたい。 \n--------\n\n■収録日等\n--------\n収録日：2016年10月23日 \n収録場所：埼玉 さいたまスーパーアリーナ\n--------\n\n■OA告知\n-------------\n[WOWOWライブ] 2017/1/8（日）よる10:00\n-------------\n\n■加入ボタン\n-------\nご加入はこちら\n-------\n\n■バーチャルコード\n----------\n後送いたします。\n----------\n\n■公開URL\nhttp://www.wowow.co.jp/music/ayaka/\n\n■SNS画像文言(デザイナーさん宛)\nアーティスト名 \n---------\n絢香\n---------\n\n■スケジュール\n11/24（木) テストアップ\n12/5(月) 12:00公開\n\nお手数お掛けいたしますが、宜しくお願い致します。\n--------------------------------☆","start_date":"2016-11-21","due_date":"2016-11-24","done_ratio":"100","created_on":"2016-11-21T01:52:19Z","updated_on":"2016-11-25T09:43:08Z"},{"id":"43","project":"[一星企画]WOWOW","author":"武田 将平","assigned_to":"高橋 知明","subject":"コールドケース　脳トレ6回目","description":"お疲れ様です。\nお待たせしました！コールド脳トレ6回目の素材が届きましたので送付いたします。\n下記ファイルでご準備お願いします。\n 河鰭 久美2016年11月17日 14:13\nファイルをアップロードしました。\n06.zip (3.04 MB)\n推奨セキュリティソフト\n\nポイントURLは下記からお願いします。\nhttps://www.chatwork.com/#!rid56621379-1551510547 メッセージリンク\n\n■Case:06　「恋文」\nhttp://point.wowow.co.jp/campaign/?cp=761&ret=%2Fcampaign%2Fthanks.html\n\nこちら優先で作業をお願いします！","start_date":"2016-11-17","due_date":"2016-11-17","done_ratio":"100","created_on":"2016-11-17T05:15:38Z","updated_on":"2016-11-20T23:47:54Z"},{"id":"42","project":"[一星企画]WOWOW","author":"武田 将平","assigned_to":"高橋 知明","subject":"音楽 ザ・ローリング・ストーンズ","description":"11/21(月) 素材、色指定等ご連絡\n11/22(火) AM 一星へのテストアップ\n11/22(火) テストアップ\n12/1(木)12:00公開予定","start_date":"2016-11-21","due_date":"2016-11-22","done_ratio":"100","created_on":"2016-11-17T03:01:29Z","updated_on":"2016-11-30T11:16:32Z"},{"id":"41","project":"[一星企画]WOWOW","author":"武田 将平","assigned_to":"高橋 知明","subject":"音楽 GReeeeN","description":"11/21(月) 素材、色指定等ご連絡\n11/22(火) AM 一星へのテストアップ\n11/22(火) テストアップ\n12/1(木)公開","start_date":"2016-11-21","due_date":"2016-11-22","done_ratio":"100","created_on":"2016-11-17T03:00:55Z","updated_on":"2016-11-30T05:07:27Z"},{"id":"40","project":"[一星企画]WOWOW","author":"武田 将平","assigned_to":"高橋 知明","subject":"音楽 EXO","description":"■EXO\n11/18(金) 素材、色指定等ご連絡\n11/21(月) AM 一星へのテストアップ\n11/21(月) テストアップ\n11/30(水)16:00公開\n","start_date":"2016-11-17","due_date":"2016-11-21","done_ratio":"100","created_on":"2016-11-17T03:00:01Z","updated_on":"2016-11-22T09:53:42Z"},{"id":"39","project":"[一星企画]WOWOW","author":"松重 信行","assigned_to":"高橋 知明","subject":"ナイトシフト3","description":"また、海外ドラマ「ナイトシフト3」のコーディングもお願いしたいと思っております。\n\n■ナイトシフト3 ※相関図含む\n11/16（水）ラフ出し\n11/21（月）コーディング開始\n11/25（金）テストアップ\n11/28（月）公開","start_date":"2016-11-21","due_date":"2016-11-25","done_ratio":"100","created_on":"2016-11-15T00:46:16Z","updated_on":"2016-11-28T08:38:33Z"},{"id":"38","project":"[一星企画]WOWOW","author":"武田 将平","assigned_to":"武田 将平","subject":"楽園 スタンプラリー説明ページ","description":"(5)スタンプラリー説明ページ\n11/18(金)　構成案作成\n11/25(金)　PCデザイン確認\n11/28(月)　スマートフォンデザイン対応\n11/29(火)　デザインFIX→コーディング\n12/7(水)　テストアップ\n12/9(金)　公開","start_date":"2016-12-02","due_date":"2016-12-07","done_ratio":null,"created_on":"2016-11-11T10:20:27Z","updated_on":"2016-11-15T00:44:25Z"},{"id":"35","project":"[高野_個人用]","author":"高野 圭史","assigned_to":"高野 圭史","subject":"AutomaticPostDailyInformation","description":null,"start_date":"2016-11-11","due_date":null,"done_ratio":null,"created_on":"2016-11-11T02:19:36Z","updated_on":"2016-11-18T02:04:27Z"},{"id":"33","project":"[一星企画]WOWOW","author":"武田 将平","assigned_to":"武田 将平","subject":"楽園 相関図","description":"11/17(木)　構成案作成\n11/24(木)　ラフ提出\n11/29(火)　デザインFIX→コーディング\n12/6(火)　テストアップ\n12/9(金)　公開","start_date":"2016-11-29","due_date":"2016-12-07","done_ratio":null,"created_on":"2016-11-11T00:20:31Z","updated_on":"2016-11-11T10:19:33Z"},{"id":"32","project":"[一星企画]WOWOW","author":"武田 将平","assigned_to":"武田 将平","subject":"楽園 エピソード","description":"11/10(木)　構成案作成\n11/16(水)　ラフ確認\n11/17(木)　デザインFIX→コーディング\n11/24(木)　テストアップ\n12/2(金)　公開","start_date":"2016-11-24","due_date":"2016-12-05","done_ratio":"30","created_on":"2016-11-11T00:19:31Z","updated_on":"2016-11-30T02:55:29Z"},{"id":"31","project":"[一星企画]WOWOW","author":"武田 将平","assigned_to":"高橋 知明","subject":"楽園 イントロ修正","description":"11/9(水)　構成案作成\n11/14(月)　ラフ確認\n11/16(水)　デザインFIX→コーディング\n11/21(月)　テストアップ\n11/22(火)　公開\n","start_date":"2016-11-16","due_date":"2016-11-21","done_ratio":"100","created_on":"2016-11-11T00:18:38Z","updated_on":"2016-11-22T09:51:55Z"},{"id":"30","project":"[一星企画]WOWOW","author":"武田 将平","assigned_to":"高橋 知明","subject":"音楽 CNBLUE","description":"------------------------------\n■スケジュール\n11/15(火) 一星へのテストアップ\n11/16(水) テストアップ\n11/29(火)17:30 公開\n------------------------------","start_date":"2016-11-15","due_date":"2016-11-15","done_ratio":"100","created_on":"2016-11-11T00:16:59Z","updated_on":"2016-11-20T23:49:55Z"},{"id":"28","project":"[一星企画]WOWOW","author":"武田 将平","assigned_to":"高橋 知明","subject":"コールドケース　脳トレ5回目","description":"お疲れ様です。\nコールドの脳トレの対応をお願いします。\n\n-------\n※SPのTOPページ導線バナーの日付も更新をお願いします。\n\nヒント：他の部活の部員が混ざってる！？\n\n次回の更新日：11/19\n\nスタート\n 河鰭 久美2016年11月9日 10:35\nファイルをアップロードしました。\n\nbefore05.jpg (129.67 KB) プレビュー\n推奨セキュリティソフト\n\nエンド\n 河鰭 久美2016年11月9日 10:35\nファイルをアップロードしました。\n\nafter05.jpg (131.02 KB) プレビュー\n推奨セキュリティソフト\n\nポイントゲット用アドレスと各話タイトル\nhttps://www.chatwork.com/#!rid56621379-1551510547 メッセージリンク\n--------\n\n■Case:05　「プール」\nhttp://point.wowow.co.jp/campaign/?cp=760&ret=%2Fcampaign%2Fthanks.html\n\nよろしくお願いいたします。","start_date":"2016-11-09","due_date":"2016-11-10","done_ratio":"100","created_on":"2016-11-09T05:49:22Z","updated_on":"2016-11-11T08:41:31Z"},{"id":"27","project":"[高野_個人用]","author":"高野 圭史","assigned_to":"高野 圭史","subject":"CI","description":null,"start_date":"2016-11-09","due_date":null,"done_ratio":"20","created_on":"2016-11-09T02:24:32Z","updated_on":"2016-11-18T02:04:51Z"},{"id":"26","project":"[高野_個人用]","author":"高野 圭史","assigned_to":"高野 圭史","subject":"AutomaticCheckEnterLeavePerson","description":"AutomaticCheckEnterLeavePerson","start_date":"2016-11-09","due_date":null,"done_ratio":null,"created_on":"2016-11-09T01:11:44Z","updated_on":"2016-11-18T02:05:02Z"},{"id":"24","project":"[SEP]スキル管理サービス","author":"松重 信行","assigned_to":"松重 信行","subject":"スキルマップを多人数同時に見れるようにする。","description":null,"start_date":"2016-06-30","due_date":"2016-07-29","done_ratio":null,"created_on":"2016-11-08T04:34:15Z","updated_on":"2016-11-08T06:35:00Z"},{"id":"23","project":"[SEP]スキル管理サービス","author":"松重 信行","assigned_to":"松重 信行","subject":"80許可してしまっているので削除する","description":"h3. 下記設定を検証のために入れたので、そのうち削除すること\n\n* /etc/nginx/conf.d/default.conf\n** 2行目 : 削除\n<pre>\n2     listen 80; \n</pre>\n** 21 - 25行目 : 削除\n<pre>\n 21     location /translate {\n 22       satisfy any;\n 23       allow   all;\n 24     }\n 25     \n</pre>\n* /var/www/laravel/public/translate\n*# 配下のファイルは他のサーバ(se-project.org等)に退避\n*# フォルダごと削除\n","start_date":"2016-06-29","due_date":"2016-06-30","done_ratio":null,"created_on":"2016-11-08T04:34:15Z","updated_on":"2016-11-08T04:34:15Z"},{"id":"22","project":"[SEP]スキル管理サービス","author":"松重 信行","assigned_to":"松重 信行","subject":".envの切替で環境ごとの設定を変更できるようにする。","description":null,"start_date":null,"due_date":null,"done_ratio":null,"created_on":"2016-11-08T04:34:14Z","updated_on":"2016-11-08T04:34:14Z"},{"id":"21","project":"[SEP]スキル管理サービス","author":"松重 信行","assigned_to":null,"subject":"環境構築手順を統一","description":"MacとWindowsで環境構築手順がことなるので統一する。\n# Macではローカルにansibleを導入しているが、仮想ホスト上にansibleを導入する。※Windowsと同じ手順にする。\n * Vagrantfile変更\n * windows用のファイル群廃止\n * README.mdを修正。","start_date":null,"due_date":null,"done_ratio":null,"created_on":"2016-11-08T04:34:14Z","updated_on":"2016-11-08T04:34:14Z"},{"id":"20","project":"[SEP]スキル管理サービス","author":"松重 信行","assigned_to":"松重 信行","subject":"vbguestのバージョン不整合不具合","description":"環境構築時にvbguestとVirtual Boxのバージョン不整合でエラーとなってしまう。\n現状の手順はVagrantfileにバージョンアップ抑制の手順を入れて対応しているが、\n根本対応を行う。","start_date":null,"due_date":null,"done_ratio":null,"created_on":"2016-11-08T04:34:14Z","updated_on":"2016-11-08T04:34:14Z"},{"id":"19","project":"[SEP]スキル管理サービス","author":"松重 信行","assigned_to":"松重 信行","subject":"conohaに複数のアプリケーションを乗せられるようにする","description":"Ansibleやデプロイツール用のプライベートリポジトリの用意\nnginx.confの分離\nphp-fpmのソケットの分離\n\n","start_date":"2016-03-19","due_date":null,"done_ratio":"10","created_on":"2016-11-08T04:34:14Z","updated_on":"2016-11-08T06:33:05Z"},{"id":"18","project":"[SEP]スキル管理サービス","author":"松重 信行","assigned_to":"松重 信行","subject":"評価者権限のユーザもスキル登録したい","description":"評価者権限で登録されている人も技術者である場合があるので(松金さんや高野さん)、\n評価者登録済みのユーザに対してスキル登録できる仕組みを実現したい。\n\n案は下記2つ\n# 評価者も、技術者一覧に表示し、スキルを登録可にする。\n# 権限が異なれば(評価者:user.authority=10, 技術者:user.authority=20)同じメールアドレスの登録を許可する。","start_date":null,"due_date":null,"done_ratio":null,"created_on":"2016-11-08T04:34:14Z","updated_on":"2016-11-08T04:34:14Z"},{"id":"17","project":"[SEP]スキル管理サービス","author":"松重 信行","assigned_to":"松重 信行","subject":"バリデーションの共通化","description":"https://redmine.se-project.org/issues/8058#note-4 で提示された課題の対応。\n","start_date":null,"due_date":null,"done_ratio":null,"created_on":"2016-11-08T04:34:14Z","updated_on":"2016-11-08T04:34:14Z"},{"id":"16","project":"[SEP]スキル管理サービス","author":"松重 信行","assigned_to":"松重 信行","subject":"Nginx で413 Request Entity Too Large","description":"大きいサイズの画像を登録すると表題のエラーが発生します。\n対応方法は以下。\n\n1.Nginxでclient_max_body_sizeを設定する\n2.画像サイズのバリデーションを追加する。","start_date":"2016-03-06","due_date":null,"done_ratio":"100","created_on":"2016-11-08T04:34:14Z","updated_on":"2016-11-08T06:32:14Z"},{"id":"15","project":"[SEP]スキル管理サービス","author":"松重 信行","assigned_to":"松重 信行","subject":"JSなどでユーザビリティ向上について考える","description":"例えば、検索ボタンをクリックすると検索の入力領域がヌルッと表示したりと。\nユーザの使い心地をアップさせる仕組みを考えて導入する。\nあと、技術者登録などの横に鉛筆ボタンなどがさりげなくあるとわかりやすくなったりする。\nそこらへんについて考える。\n要望があればこちらに書いてください","start_date":"2016-03-04","due_date":null,"done_ratio":null,"created_on":"2016-11-08T04:34:14Z","updated_on":"2016-11-08T06:31:51Z"},{"id":"14","project":"[SEP]スキル管理サービス","author":"松重 信行","assigned_to":"松重 信行","subject":"一覧部分の高さはブラウザの表示高さによって変動してもいいかも","description":"解像度の高いディスプレイで見ると余るので、footerは下部に固定して、ギリギリまで高さを持たせてもいいかも。\nそっちの方が見やすいという提案。","start_date":"2016-03-04","due_date":null,"done_ratio":"100","created_on":"2016-11-08T04:34:14Z","updated_on":"2016-11-08T06:31:28Z"},{"id":"13","project":"[SEP]スキル管理サービス","author":"松重 信行","assigned_to":null,"subject":"技術者新規登録でフォームの枠線が白なのでどこにフォームがあるか解らない問題","description":"未入力の箇所には薄く色をつけるなどのJSを書くとよいかも","start_date":"2016-03-03","due_date":null,"done_ratio":"50","created_on":"2016-11-08T04:34:14Z","updated_on":"2016-11-08T06:31:08Z"},{"id":"12","project":"[SEP]スキル管理サービス","author":"松重 信行","assigned_to":"松重 信行","subject":"エラー制御とエラーページの表示","description":"エラー発生時に、エラーページへ飛ぶように設定、制御する。","start_date":null,"due_date":null,"done_ratio":"100","created_on":"2016-11-08T04:34:14Z","updated_on":"2016-11-08T06:30:45Z"},{"id":"11","project":"[SEP]スキル管理サービス","author":"松重 信行","assigned_to":null,"subject":"CSS振り返り","description":"CSS(SMACSS等)について振り返り。","start_date":"2016-03-03","due_date":"2016-03-11","done_ratio":"100","created_on":"2016-11-08T04:34:14Z","updated_on":"2016-11-08T06:30:26Z"},{"id":"10","project":"[SEP]スキル管理サービス","author":"松重 信行","assigned_to":"松重 信行","subject":"技術者のスキル設定で習熟度が登録できるようにする","description":"技術者情報の登録、更新機能にて、\nスキル毎の習熟度を設定できるようにする。\n","start_date":null,"due_date":null,"done_ratio":null,"created_on":"2016-11-08T04:34:14Z","updated_on":"2016-11-08T06:30:01Z"},{"id":"9","project":"[SEP]スキル管理サービス","author":"松重 信行","assigned_to":"松重 信行","subject":"技術者がログイン後に自身の閲覧ページが表示されるようにする。","description":"技術者がログイン後に自身の閲覧ページが表示されるようにする。","start_date":null,"due_date":null,"done_ratio":null,"created_on":"2016-11-08T04:34:14Z","updated_on":"2016-11-08T06:29:33Z"},{"id":"8","project":"[SEP]スキル管理サービス","author":"松重 信行","assigned_to":"松重 信行","subject":"スキル一覧はタグの内容でソートしたい","description":"スキル一覧はタグの内容でソートしたい。\n\n* 松重の要望\n* 実現性を検討してから","start_date":null,"due_date":null,"done_ratio":null,"created_on":"2016-11-08T04:34:14Z","updated_on":"2016-11-08T06:29:08Z"},{"id":"7","project":"[SEP]スキル管理サービス","author":"松重 信行","assigned_to":"松重 信行","subject":"技術者一覧から直接マップ表示したほうが良い","description":"技術者一覧(rater/staffs)から編集画面への遷移は、\n先にマップ表示(/rater/staffs/view/37)へ遷移して、そこから編集画面へ行けるようにしたほうが良さそうなので、\n遷移をそのように変更する。","start_date":"2016-03-17","due_date":"2016-03-18","done_ratio":"90","created_on":"2016-11-08T04:34:14Z","updated_on":"2016-11-08T06:28:28Z"},{"id":"6","project":"[SEP]スキル管理サービス","author":"松重 信行","assigned_to":null,"subject":"技術者登録時にパスワード通知メール送信","description":"技術者の登録時に、パスワードを通知するメールを送信する処理を追加。\n","start_date":"2016-02-29","due_date":null,"done_ratio":null,"created_on":"2016-11-08T04:34:14Z","updated_on":"2016-11-08T04:34:14Z"},{"id":"5","project":"[SEP]スキル管理サービス","author":"松重 信行","assigned_to":null,"subject":"本番環境で登録時のメール送れるようにする。","description":null,"start_date":"2016-02-29","due_date":null,"done_ratio":null,"created_on":"2016-11-08T04:34:13Z","updated_on":"2016-11-08T04:34:13Z"},{"id":"4","project":"[SEP]スキル管理サービス","author":"松重 信行","assigned_to":"松重 信行","subject":"保守性向上","description":"冗長な処理、保守性の悪い処理をリファクタリングしたい。\nどこを直すかの調査も含めて、先ずは一週間でできるところまでお願いします。","start_date":"2016-02-29","due_date":"2016-03-31","done_ratio":"80","created_on":"2016-11-08T04:34:13Z","updated_on":"2016-11-08T06:22:53Z"},{"id":"3","project":"[SEP]スキル管理サービス","author":"松重 信行","assigned_to":null,"subject":"デプロイツールの導入","description":"現状デプロイはrmしてcpするだけのシェルなので、デプロイツールを導入したほうがよい","start_date":"2016-02-27","due_date":null,"done_ratio":null,"created_on":"2016-11-08T04:34:13Z","updated_on":"2016-11-08T06:21:37Z"},{"id":"2","project":"[SEP]スキル管理サービス","author":"松重 信行","assigned_to":null,"subject":"password暗号化","description":"ansibleとlaravelにpasswordを直書きしているので、暗号化したいできれば\n","start_date":"2016-02-27","due_date":null,"done_ratio":null,"created_on":"2016-11-08T04:34:13Z","updated_on":"2016-11-08T04:34:13Z"},{"id":"1","project":"[SEP]スキル管理サービス","author":"松重 信行","assigned_to":"松重 信行","subject":"[課題]一覧でデータが多い場合にいろいろある","description":"評価者や技術者の一覧画面(/admin/raters, /rater/staffs)にて、\nデータが多い場合に下記のような現象が懸念される。\n要改善。\n\n# ページ自体のスクロールが長くなる。※画面下部には何も表示されない。\n# ページング実装していないので、大量データを全て取得、表示してしまうためレスポンスが後々悪くなる。","start_date":"2016-03-04","due_date":"2016-03-20","done_ratio":null,"created_on":"2016-11-08T04:34:13Z","updated_on":"2016-11-08T04:35:41Z"}]';
        $ticket_info = json_decode($ticket_info, true);
        $day         = gmdate('Y-m-d\TH:i:s\Z', strtotime('2016-11-30 07:30:00'));

        $response = $this->service->getUpdatedTicket($ticket_info, $day);

        $this->assertArrayHasKey('id', $response[0]);
        $this->assertArrayHasKey('project', $response[0]);
        $this->assertArrayHasKey('author', $response[0]);
        $this->assertArrayHasKey('assigned_to', $response[0]);
        $this->assertArrayHasKey('subject', $response[0]);
        $this->assertArrayHasKey('description', $response[0]);
        $this->assertArrayHasKey('start_date', $response[0]);
        $this->assertArrayHasKey('due_date', $response[0]);
        $this->assertArrayHasKey('done_ratio', $response[0]);
        $this->assertArrayHasKey('created_on', $response[0]);
        $this->assertArrayHasKey('updated_on', $response[0]);

        $this->assertEquals(count($response), 6);
    }
}
